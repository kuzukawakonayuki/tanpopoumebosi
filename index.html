<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TEST</title>
<script>
    var bg = new Image();
    var title = new Image();
    var husumaR = new Image();
    var husumaR_draw
    var husumaR_x = -250;
    var husumaL = new Image();
    var husumaL_draw
    var husumaL_x = 500;
    var husuma_kai_timer;
    var husuma_hei_timer;
    bg.src = "sozai/tatami.jpg";  
    title.src = "sozai/title.jpg";
    husumaR.src = "sozai/husumaR.jpg";
    husumaL.src = "sozai/husumaL.jpg";
  </script>
</head>

<body onload="main()">
<p>TEST</p>

    <canvas id="cv1" width="500" height="380"></canvas>
    
    <script>
    function main()
    {
        var bg_draw = document.getElementById("cv1").getContext("2d");
        var title_draw = document.getElementById("cv1").getContext("2d");
        var husumaR_draw = document.getElementById("cv1").getContext("2d");
        var husumaL_draw = document.getElementById("cv1").getContext("2d");
        bg_draw.drawImage(bg,0,0);
        title_draw.drawImage(title,0,0);
        husumaR_draw.drawImage(husumaR,husumaR_x,0);
        husumaL_draw.drawImage(husumaL,husumaL_x,0);
        husuma_hei_timer = setInterval(husuma_hei,50);

        function husuma_hei()
        {
            if (husumaR_x < 0)
            {
                husumaR_x++;
                husumaL_x--;
                husumaR_draw.drawImage(husumaR,husumaR_x,0);
                husumaL_draw.drawImage(husumaL,husumaL_x,0);
            } else {
                clearInterval(husuma_hei_timer);
            }
        }

        function husuma_kai()
        {
            if (husumaL_x < 500)
            {
                husumaR_x--;
                husumaL_x++;
                husumaR_draw.drawImage(husumaR,husumaR_x,0);
                husumaL_draw.drawImage(husumaL,husumaL_x,0);
            } else {
                clearInterval(husuma_kai_timer);
            }

        }

    }
    </script>
    <input type="button" value="START" id="start_button" onclick="start_button_click()">
</body>

</html>